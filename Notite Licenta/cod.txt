<div className="col-md-8">
  <div className="card shadow-sm border-0 mb-4 h-100">
    <div className="card-header bg-primary text-white fw-bold fs-5 d-flex align-items-center">
      📜 REGULI STRICTE PENTRU GENERAREA ORARULUI
    </div>
    <div className="card-body px-4 py-4">
      <div className="mb-4">
        <label className="form-label fw-semibold text-secondary">✏️ Reguli de generare</label>
        <textarea
          className="form-control"
          style={{
            fontFamily: "Fira Code, monospace",
            whiteSpace: "pre-wrap",
            backgroundColor: "#f9f9f9",
            border: "1px solid #dee2e6",
            borderRadius: "0.375rem",
            padding: "1rem",
            minHeight: "400px",
            lineHeight: "1.6",
            fontSize: "0.95rem",
          }}
          rows={20}
          placeholder="📜 Introdu aici regulile..."
          value={reguli}
          onChange={(e) => setReguli(e.target.value)}
        />
      </div>

      <div className="mb-4">
        <label className="form-label fw-semibold text-secondary">📝 Denumire regulă</label>
        <input
          type="text"
          className="form-control"
          placeholder="Ex: Reguli orare Licență și Master"
          value={numeRegula}
          onChange={(e) => setNumeRegula(e.target.value)}
        />
      </div>

      {idRegulaEditata && (
        <div className="alert alert-warning d-flex justify-content-between align-items-center">
          <div>
            <strong>Modifici o regulă existentă:</strong> <em>{numeRegula}</em>
          </div>
          <div className="d-flex gap-2">
            <button
              className="btn btn-sm btn-outline-success"
              onClick={handleActualizeazaRegula}
            >
              💾 Actualizează
            </button>
            <button
              className="btn btn-sm btn-outline-primary"
              onClick={handleSalveazaCaNoua}
            >
              💡 Salvează ca nouă
            </button>
            <button
              className="btn btn-sm btn-outline-danger"
              onClick={handleStergeRegula}
            >
              🗑️ Șterge
            </button>
          </div>
        </div>
      )}

      <div className="d-flex justify-content-between gap-3 mt-4">
        <button
          className="btn btn-success w-100"
          onClick={salveazaReguli}
          disabled={loading}
        >
          {loading ? (
            <>
              <span
                className="spinner-border spinner-border-sm me-2"
                role="status"
                aria-hidden="true"
              ></span>
              Se salvează...
            </>
          ) : (
            "🚀 Salvează"
          )}
        </button>

        <button
          className="btn btn-outline-danger w-100"
          onClick={() => {
            Swal.fire({
              title: "Ești sigur?",
              text: "Regulile vor fi șterse complet.",
              icon: "warning",
              showCancelButton: true,
              confirmButtonText: "Da, șterge",
              cancelButtonText: "Anulează",
            }).then((result) => {
              if (result.isConfirmed) setReguli("");
            });
          }}
        >
          🔄 Golește
        </button>
      </div>
    </div>
  </div>
</div>
